<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Paladín FBX • Anaglifo</title>

  <!-- Fuente (opcional, ligera) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- Estilos -->
  <link rel="stylesheet" href="css/main.css"/>

  <!-- THREE.js ESM (CDN) -->
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/",
        "anaglyph/AnaglyphEffect": "./js/AnaglyphEffectPatched.js"
      }
    }
  </script>
</head>
<body class="theme-dark">

  <!-- NAV -->
  <nav class="navbar navbar-expand-lg navbar-dark nav-glass">
    <div class="container">
      <a class="navbar-brand fw-bold d-flex align-items-center gap-2" href="#">
        <span class="brand-dot"></span>
        Paladín FBX — Anaglifo
      </a>
      <span class="badge rounded-pill bg-gradient-cyan ms-auto">Rojo/Cian</span>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="container container-narrow py-4">
    <div class="card scene-card shadow-xxl border-0">
      <div class="card-header controls-toolbar d-flex flex-wrap align-items-center gap-3">
        <div class="title d-flex align-items-center gap-2">
          <span class="dot-cyan"></span>
          <strong>Controles</strong>
        </div>

        <div class="ms-auto d-flex flex-wrap align-items-center gap-3">
          <!-- Animación -->
          <div class="control d-flex align-items-center gap-2">
            <label class="form-label m-0 small text-muted">Animación</label>
            <select id="animSelect" class="form-select form-select-sm control-select">
              <option value="protege">Protege</option>
              <option value="espadazo">Espadazo</option>
              <option value="patada">Patada</option>
              <option value="defensa">Defensa</option>
              <option value="correr">Correr</option>
            </select>
          </div>

          <!-- Eye Sep (profundidad) -->
          <div class="control d-flex align-items-center gap-2">
            <label for="eyeSep" class="form-label m-0 small text-muted">Eye Sep</label>
            <input id="eyeSep" type="range" min="0.04" max="0.18" step="0.005" value="0.16" class="form-range control-range">
            <span id="eyeSepVal" class="small text-muted mono">0.160</span>
          </div>

          <!-- Rotar con mouse -->
          <div class="form-check form-switch d-flex align-items-center">
            <input class="form-check-input control-switch" type="checkbox" id="rotateModelSwitch">
            <label class="form-check-label small text-muted ms-2" for="rotateModelSwitch">Rotar modelo con el mouse</label>
          </div>
        </div>
      </div>

      <div class="card-body p-0">
        <div id="viewer" class="viewer">
          <!-- El canvas se inyecta aquí -->
          <div class="viewer-overlay"></div>
        </div>
      </div>

      <div class="card-footer small text-muted d-flex justify-content-between flex-wrap gap-2">
        <span>Mouse: rueda = zoom, arrastre = orbitar (o rotar modelo si está activado).</span>
        <span>Atajos: 1-Idle, 2-Walk, 3-Run, 4-Jump, 5-Dance</span>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="footer-dark text-center py-4 small text-muted">
    <div class="container">
      Desarrollado por <span class="fw-semibold">Gabriela Paola Ortiz Velazquez</span> · Three.js + Bootstrap · © 2025
    </div>
  </footer>

  <script type="module" src="js/main.js"></script>
</body>
</html>
